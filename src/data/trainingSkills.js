// src/data/trainingSkills.js

/**
 * スプレッドシート書き出し（Apps Script 生成想定）を最終形へ正規化して export。
 *  - 発動対象: 「発動対象1_ID～発動対象N_ID」を全部走査し targets[] を作成
 *    - ID でない（カード名/キャラ名の）場合は “名前→ID” に解決してから格納
 *    - それでも ID でないもの（説明文など）は targets から除外
 *  - 効果    : 「効果i / 効果内容i / 効果量i」を動的に収集して effects[] を作成
 */

import characterList from "@/data/characterList.js";
import { supportCards } from "@/data/supportCards.js";

// ===== ここに Apps Script で吐き出した行配列を貼り付け =====
const SOURCE_ROWS = [
{ "発動対象1_ID": "SP-EX002", "発動対象1_名前": "死んでも嫌っすね", "効果1": "インスピレーション獲得", "効果内容1": "トレーニング開始時にインスピレーション「対BLMシュート練習実行時獲得ステータス300%上昇」が発生する。" },
{ "発動対象1_ID": "SP-EX003", "発動対象1_名前": "俺のエゴはなんだ？", "効果1": "インスピレーション獲得", "効果内容1": "トレーニング開始時にインスピレーション「ドリブルトレーニング実行時獲得ステータス600%上昇」が発生する。" },
{ "発動対象1_ID": "B018-08", "発動対象1_名前": "凪誠士郎【はじめまして日本】", "発動対象2_ID": "B021-07", "発動対象2_名前": "糸師凛【SEASIDE EGOIST】", "効果1": "常時キックアップ", "効果量1": "400%" },
{ "発動対象1_ID": "B021-07", "発動対象1_名前": "糸師凛【SEASIDE EGOIST】", "発動対象2_ID": "B032-03", "発動対象2_名前": "氷織羊【桜はんなり】", "効果1": "常時キックアップ", "効果量1": "200%" },
{ "発動対象1_ID": "B021-07", "発動対象1_名前": "糸師凛【SEASIDE EGOIST】", "発動対象2_ID": "B033-02", "発動対象2_名前": "雪宮剣優【ストリート・スタイル】", "効果1": "常時キックアップ", "効果量1": "200%" },
{ "発動対象1_ID": "B021-07", "発動対象1_名前": "糸師凛【SEASIDE EGOIST】", "発動対象2_ID": "B026-05", "発動対象2_名前": "士道龍聖【龍聖・直下蹴弾】", "効果1": "常時キックアップ", "効果量1": "200%" },
{ "発動対象1_ID": "B019-08", "発動対象1_名前": "御影玲王【X SEASIDE EGOIST】", "発動対象2_ID": "B021-07", "発動対象2_名前": "糸師凛【SEASIDE EGOIST】", "効果1": "常時テクニックアップ", "効果量1": "400%" },
{ "発動対象1_ID": "B002-08", "発動対象1_名前": "蜂楽廻【怪物夢中】", "発動対象2_ID": "B021-07", "発動対象2_名前": "糸師凛【SEASIDE EGOIST】", "効果1": "常時テクニックアップ", "効果量1": "400%" },
{ "発動対象1_ID": "B021-07", "発動対象1_名前": "糸師凛【SEASIDE EGOIST】", "発動対象2_ID": "B038-01", "発動対象2_名前": "糸師冴【『美しく壊す』哲学】", "効果1": "常時テクニックアップ", "効果量1": "400%" },
{ "発動対象1_ID": "B021-07", "発動対象1_名前": "糸師凛【SEASIDE EGOIST】", "発動対象2_ID": "B031-02", "発動対象2_名前": "乙夜影汰【最強の飛び道具】", "効果1": "常時テクニックアップ", "効果量1": "200%" },
{ "発動対象1_ID": "SP-UR002", "発動対象1_名前": "兄ちゃんは世界一優しい", "発動対象2_ID": "SP-UR007", "発動対象2_名前": "兄弟喧嘩の途中だ！", "効果1": "常時スピードアップ", "効果量1": "500%" },
{ "発動対象1_ID": "SP-UR003", "発動対象1_名前": "選手交代", "発動対象2_ID": "SP-UR007", "発動対象2_名前": "兄弟喧嘩の途中だ！", "効果1": "常時スピードアップ", "効果量1": "500%" },
{ "発動対象1_ID": "SP-UR001", "発動対象1_名前": "ちゃんと見てろよ", "発動対象2_ID": "SP-UR007", "発動対象2_名前": "兄弟喧嘩の途中だ！", "効果1": "常時キックアップ", "効果量1": "500%" },
{ "発動対象1_ID": "B004-09", "発動対象1_名前": "千切豹馬【ブリリアント・ブーケ】", "発動対象2_ID": "B036-02", "発動対象2_名前": "オリヴァ・愛空【オールMAXで視える世界】", "効果1": "常時フィジカルアップ", "効果量1": "800%" },
{ "発動対象1_ID": "B021-06", "発動対象1_名前": "糸師凛【破壊者】", "発動対象2_ID": "B036-02", "発動対象2_名前": "オリヴァ・愛空【オールMAXで視える世界】", "効果1": "常時フィジカルアップ", "効果量1": "800%" },
{ "発動対象1_ID": "B019-07", "発動対象1_名前": "御影玲王【自負と決意の『複写』】", "発動対象2_ID": "B036-02", "発動対象2_名前": "オリヴァ・愛空【オールMAXで視える世界】", "効果1": "常時フィジカルアップ", "効果量1": "800%" },
{ "発動対象1_ID": "B011-04", "発動対象1_名前": "五十嵐栗夢【駆け上がる渇望】", "発動対象2_ID": "B036-02", "発動対象2_名前": "オリヴァ・愛空【オールMAXで視える世界】", "効果1": "常時フィジカルアップ", "効果量1": "800%" },
{ "発動対象1_ID": "B036-02", "発動対象1_名前": "オリヴァ・愛空【オールMAXで視える世界】", "発動対象2_ID": "SP-UR004", "発動対象2_名前": "脳天カチ割るぞ", "効果1": "常時フィジカルアップ", "効果量1": "800%" },
{ "発動対象1_ID": "B036-02", "発動対象1_名前": "オリヴァ・愛空【オールMAXで視える世界】", "発動対象2_ID": "SP-UR003", "発動対象2_名前": "選手交代", "効果1": "常時フィジカルアップ", "効果量1": "800%" },
{ "発動対象1_ID": "B004-09", "発動対象1_名前": "千切豹馬【ブリリアント・ブーケ】", "発動対象2_ID": "B036-02", "発動対象2_名前": "オリヴァ・愛空【オールMAXで視える世界】", "発動対象3_ID": "SP-UR004", "発動対象3_名前": "脳天カチ割るぞ", "効果1": "常時フィジカルアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "SP-UR007", "発動対象1_名前": "兄弟喧嘩の途中だ！", "発動対象2_ID": "SP-UR008", "発動対象2_名前": "こいつらに支配されてる", "効果1": "常時キックアップ", "効果量1": "800%" },
{ "発動対象1_ID": "SP-UR005", "発動対象1_名前": "星空の願掛け七星＆凛", "発動対象2_ID": "SP-UR008", "発動対象2_名前": "こいつらに支配されてる", "効果1": "常時キックアップ", "効果量1": "800%" },
{ "発動対象1_ID": "SP-UR001", "発動対象1_名前": "ちゃんと見てろよ", "発動対象2_ID": "SP-UR008", "発動対象2_名前": "こいつらに支配されてる", "効果1": "常時キックアップ", "効果量1": "800%" },
{ "発動対象1_ID": "SP-UR001", "発動対象1_名前": "ちゃんと見てろよ", "発動対象2_ID": "SP-UR007", "発動対象2_名前": "兄弟喧嘩の途中だ！", "発動対象3_ID": "SP-UR008", "発動対象3_名前": "こいつらに支配されてる", "効果1": "常時キックアップ", "効果量1": "1600%" },
{ "発動対象1_ID": "SP-UR001", "発動対象1_名前": "ちゃんと見てろよ", "発動対象2_ID": "SP-UR005", "発動対象2_名前": "星空の願掛け七星＆凛", "発動対象3_ID": "SP-UR008", "発動対象3_名前": "こいつらに支配されてる", "効果1": "常時キックアップ", "効果量1": "1600%" },
{ "発動対象1_ID": "SP-UR004", "発動対象1_名前": "脳天カチ割るぞ", "発動対象2_ID": "SP-UR008", "発動対象2_名前": "こいつらに支配されてる", "効果1": "常時フィジカルアップ", "効果量1": "800%" },
{ "発動対象1_ID": "SP-UR003", "発動対象1_名前": "選手交代", "発動対象2_ID": "SP-UR008", "発動対象2_名前": "こいつらに支配されてる", "効果1": "常時フィジカルアップ", "効果量1": "800%" },
{ "発動対象1_ID": "SP-SSR113", "発動対象1_名前": "公共の場で泳ぐな", "発動対象2_ID": "SP-UR008", "発動対象2_名前": "こいつらに支配されてる", "効果1": "常時フィジカルアップ", "効果量1": "800%" },
{ "発動対象1_ID": "SP-SSR113", "発動対象1_名前": "公共の場で泳ぐな", "発動対象2_ID": "SP-UR003", "発動対象2_名前": "選手交代", "発動対象3_ID": "SP-UR008", "発動対象3_名前": "こいつらに支配されてる", "効果1": "常時フィジカルアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "B018-08", "発動対象1_名前": "凪誠士郎【はじめまして日本】", "発動対象2_ID": "B026-06", "発動対象2_名前": "士道龍聖【歓喜の”誕生”】", "効果1": "常時キックアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "B001-09", "発動対象1_名前": "潔世一【”青い監獄”の心臓】", "発動対象2_ID": "B021-07", "発動対象2_名前": "糸師凛【SEASIDE EGOIST】", "発動対象3_ID": "B026-06", "発動対象3_名前": "士道龍聖【歓喜の”誕生”】", "効果1": "常時キックアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "B036-02", "発動対象1_名前": "オリヴァ・愛空【オールMAXで視える世界】", "発動対象2_ID": "B901-05", "発動対象2_名前": "三笘薫【受け止めた勝利】", "効果1": "常時フィジカルアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "B004-09", "発動対象1_名前": "千切豹馬【ブリリアント・ブーケ】", "発動対象2_ID": "B901-05", "発動対象2_名前": "三笘薫【受け止めた勝利】", "効果1": "常時フィジカルアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "B019-07", "発動対象1_名前": "御影玲王【自負と決意の『複写』】", "発動対象2_ID": "B901-05", "発動対象2_名前": "三笘薫【受け止めた勝利】", "効果1": "常時フィジカルアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "B011-04", "発動対象1_名前": "五十嵐栗夢【駆け上がる渇望】", "発動対象2_ID": "B901-05", "発動対象2_名前": "三笘薫【受け止めた勝利】", "効果1": "常時フィジカルアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "B036-02", "発動対象1_名前": "オリヴァ・愛空【オールMAXで視える世界】", "発動対象2_ID": "B901-05", "発動対象2_名前": "三笘薫【受け止めた勝利】", "発動対象3_ID": "SP-UR008", "発動対象3_名前": "こいつらに支配されてる", "効果1": "常時フィジカルアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "B011-04", "発動対象1_名前": "五十嵐栗夢【駆け上がる渇望】", "発動対象2_ID": "B004-09", "発動対象2_名前": "千切豹馬【ブリリアント・ブーケ】", "発動対象3_ID": "B901-05", "発動対象3_名前": "三笘薫【受け止めた勝利】", "効果1": "常時フィジカルアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "SP-UR009", "発動対象1_名前": "CROSS OVER", "発動対象2_ID": "SP-UR008", "発動対象2_名前": "こいつらに支配されてる", "効果1": "常時フィジカルアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "SP-UR004", "発動対象1_名前": "脳天カチ割るぞ", "発動対象2_ID": "SP-UR009", "発動対象2_名前": "CROSS OVER", "効果1": "常時フィジカルアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "SP-UR003", "発動対象1_名前": "選手交代", "発動対象2_ID": "SP-UR009", "発動対象2_名前": "CROSS OVER", "効果1": "常時スピードアップ", "効果量1": "1200%", "効果2": "常時フィジカルアップ", "効果量2": "1200%" },
{ "発動対象1_ID": "B901-05", "発動対象1_名前": "三笘薫【受け止めた勝利】", "発動対象2_ID": "SP-UR009", "発動対象2_名前": "CROSS OVER", "効果1": "常時フィジカルアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "SP-UR004", "発動対象1_名前": "脳天カチ割るぞ", "発動対象2_ID": "SP-UR009", "発動対象2_名前": "CROSS OVER", "発動対象3_ID": "SP-UR008", "発動対象3_名前": "こいつらに支配されてる", "効果1": "常時フィジカルアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "SP-UR003", "発動対象1_名前": "選手交代", "発動対象2_ID": "SP-UR004", "発動対象2_名前": "脳天カチ割るぞ", "発動対象3_ID": "SP-UR009", "発動対象3_名前": "CROSS OVER", "効果1": "常時フィジカルアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "SP-UR007", "発動対象1_名前": "兄弟喧嘩の途中だ！", "発動対象2_ID": "SP-UR009", "発動対象2_名前": "CROSS OVER", "効果1": "常時スピードアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "SP-UR003", "発動対象1_名前": "選手交代", "発動対象2_ID": "SP-UR007", "発動対象2_名前": "兄弟喧嘩の途中だ！", "発動対象3_ID": "SP-UR009", "発動対象3_名前": "CROSS OVER", "効果1": "常時スピードアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "SP-UR002", "発動対象1_名前": "兄ちゃんは世界一優しい", "発動対象2_ID": "SP-UR003", "発動対象2_名前": "選手交代", "発動対象3_ID": "SP-UR009", "発動対象3_名前": "CROSS OVER", "効果1": "常時スピードアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "SP-UR002", "発動対象1_名前": "兄ちゃんは世界一優しい", "発動対象2_ID": "SP-UR006", "発動対象2_名前": "夜空の理想潔＆蜂楽", "発動対象3_ID": "SP-UR010", "発動対象3_名前": "世界に届く！", "効果1": "常時テクニックアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "B018-08", "発動対象1_名前": "凪誠士郎【はじめまして日本】", "発動対象2_ID": "SP-UR010", "発動対象2_名前": "世界に届く！", "効果1": "常時キックアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "SP-UR008", "発動対象1_名前": "こいつらに支配されてる", "発動対象2_ID": "SP-UR010", "発動対象2_名前": "世界に届く！", "効果1": "常時キックアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "SP-UR007", "発動対象1_名前": "兄弟喧嘩の途中だ！", "発動対象2_ID": "SP-UR010", "発動対象2_名前": "世界に届く！", "効果1": "常時キックアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "SP-UR005", "発動対象1_名前": "星空の願掛け七星＆凛", "発動対象2_ID": "SP-UR010", "発動対象2_名前": "世界に届く！", "効果1": "常時キックアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "B026-06", "発動対象1_名前": "士道龍聖【歓喜の”誕生”】", "発動対象2_ID": "SP-UR007", "発動対象2_名前": "兄弟喧嘩の途中だ！", "発動対象3_ID": "SP-UR010", "発動対象3_名前": "世界に届く！", "効果1": "常時キックアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "SP-UR007", "発動対象1_名前": "兄弟喧嘩の途中だ！", "発動対象2_ID": "SP-UR008", "発動対象2_名前": "こいつらに支配されてる", "発動対象3_ID": "SP-UR010", "発動対象3_名前": "世界に届く！", "効果1": "常時キックアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "SP-UR005", "発動対象1_名前": "星空の願掛け七星＆凛", "発動対象2_ID": "SP-UR008", "発動対象2_名前": "こいつらに支配されてる", "発動対象3_ID": "SP-UR010", "発動対象3_名前": "世界に届く！", "効果1": "常時キックアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "B003-07", "発動対象1_名前": "國神錬介【正々堂々肉体勝負】", "発動対象2_ID": "B021-06", "発動対象2_名前": "糸師凛【破壊者】", "効果1": "常時フィジカルアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "B011-04", "発動対象1_名前": "五十嵐栗夢【駆け上がる渇望】", "発動対象2_ID": "B003-07", "発動対象2_名前": "國神錬介【正々堂々肉体勝負】", "効果1": "常時フィジカルアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "B003-07", "発動対象1_名前": "國神錬介【正々堂々肉体勝負】", "発動対象2_ID": "B036-02", "発動対象2_名前": "オリヴァ・愛空【オールMAXで視える世界】", "発動対象3_ID": "B901-05", "発動対象3_名前": "三笘薫【受け止めた勝利】", "効果1": "常時フィジカルアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "B011-04", "発動対象1_名前": "五十嵐栗夢【駆け上がる渇望】", "発動対象2_ID": "B003-07", "発動対象2_名前": "國神錬介【正々堂々肉体勝負】", "発動対象3_ID": "B004-09", "発動対象3_名前": "千切豹馬【ブリリアント・ブーケ】", "効果1": "常時フィジカルアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "B003-07", "発動対象1_名前": "國神錬介【正々堂々肉体勝負】", "発動対象2_ID": "B019-08", "発動対象2_名前": "御影玲王【X SEASIDE EGOIST】", "効果1": "常時賢さアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "B003-07", "発動対象1_名前": "國神錬介【正々堂々肉体勝負】", "発動対象2_ID": "B038-02", "発動対象2_名前": "糸師冴【SEASIDE EGOIST】", "効果1": "常時賢さアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "B001-09", "発動対象1_名前": "潔世一【”青い監獄”の心臓】", "発動対象2_ID": "B003-07", "発動対象2_名前": "國神錬介【正々堂々肉体勝負】", "発動対象3_ID": "B002-08", "発動対象3_名前": "蜂楽廻【怪物夢中】", "効果1": "常時賢さアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "B003-07", "発動対象1_名前": "國神錬介【正々堂々肉体勝負】", "発動対象2_ID": "B002-08", "発動対象2_名前": "蜂楽廻【怪物夢中】", "発動対象3_ID": "B004-09", "発動対象3_名前": "千切豹馬【ブリリアント・ブーケ】", "効果1": "常時賢さアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "SP-UR009", "発動対象1_名前": "CROSS OVER", "発動対象2_ID": "SP-UR011", "発動対象2_名前": "熱血！肉弾！応援団！", "効果1": "常時スピードアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "SP-UR007", "発動対象1_名前": "兄弟喧嘩の途中だ！", "発動対象2_ID": "SP-UR011", "発動対象2_名前": "熱血！肉弾！応援団！", "効果1": "常時スピードアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "SP-UR002", "発動対象1_名前": "兄ちゃんは世界一優しい", "発動対象2_ID": "SP-UR011", "発動対象2_名前": "熱血！肉弾！応援団！", "効果1": "常時スピードアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "SP-UR007", "発動対象1_名前": "兄弟喧嘩の途中だ！", "発動対象2_ID": "SP-UR009", "発動対象2_名前": "CROSS OVER", "発動対象3_ID": "SP-UR011", "発動対象3_名前": "熱血！肉弾！応援団！", "効果1": "常時スピードアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "SP-UR002", "発動対象1_名前": "兄ちゃんは世界一優しい", "発動対象2_ID": "SP-UR009", "発動対象2_名前": "CROSS OVER", "発動対象3_ID": "SP-UR011", "発動対象3_名前": "熱血！肉弾！応援団！", "効果1": "常時スピードアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "SP-UR002", "発動対象1_名前": "兄ちゃんは世界一優しい", "発動対象2_ID": "SP-UR007", "発動対象2_名前": "兄弟喧嘩の途中だ！", "発動対象3_ID": "SP-UR011", "発動対象3_名前": "熱血！肉弾！応援団！", "効果1": "常時スピードアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "SP-UR001", "発動対象1_名前": "ちゃんと見てろよ", "発動対象2_ID": "SP-UR011", "発動対象2_名前": "熱血！肉弾！応援団！", "効果1": "常時賢さアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "SP-UR004", "発動対象1_名前": "脳天カチ割るぞ", "発動対象2_ID": "SP-UR006", "発動対象2_名前": "夜空の理想潔＆蜂楽", "発動対象3_ID": "SP-UR011", "発動対象3_名前": "熱血！肉弾！応援団！", "効果1": "常時賢さアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "B013-06", "発動対象1_名前": "馬狼照英【貪り喰らう咆哮】", "発動対象2_ID": "B026-06", "発動対象2_名前": "士道龍聖【歓喜の”誕生”】", "効果1": "常時キックアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "B013-06", "発動対象1_名前": "馬狼照英【貪り喰らう咆哮】", "発動対象2_ID": "B021-07", "発動対象2_名前": "糸師凛【SEASIDE EGOIST】", "効果1": "常時キックアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "B013-06", "発動対象1_名前": "馬狼照英【貪り喰らう咆哮】", "発動対象2_ID": "B018-08", "発動対象2_名前": "凪誠士郎【はじめまして日本】", "効果1": "常時キックアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "B001-09", "発動対象1_名前": "潔世一【”青い監獄”の心臓】", "発動対象2_ID": "B013-06", "発動対象2_名前": "馬狼照英【貪り喰らう咆哮】", "効果1": "常時フィジカルアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "B013-06", "発動対象1_名前": "馬狼照英【貪り喰らう咆哮】", "発動対象2_ID": "B038-01", "発動対象2_名前": "糸師冴【『美しく壊す』哲学】", "効果1": "常時フィジカルアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "B003-07", "発動対象1_名前": "國神錬介【正々堂々肉体勝負】", "発動対象2_ID": "B013-06", "発動対象2_名前": "馬狼照英【貪り喰らう咆哮】", "効果1": "常時フィジカルアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "B013-06", "発動対象1_名前": "馬狼照英【貪り喰らう咆哮】", "発動対象2_ID": "B901-05", "発動対象2_名前": "三笘薫【受け止めた勝利】", "効果1": "常時フィジカルアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "B013-06", "発動対象1_名前": "馬狼照英【貪り喰らう咆哮】", "発動対象2_ID": "B036-02", "発動対象2_名前": "オリヴァ・愛空【オールMAXで視える世界】", "効果1": "常時フィジカルアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "B004-09", "発動対象1_名前": "千切豹馬【ブリリアント・ブーケ】", "発動対象2_ID": "B013-06", "発動対象2_名前": "馬狼照英【貪り喰らう咆哮】", "効果1": "常時フィジカルアップ", "効果量1": "1200%" },
{ "発動対象1_ID": "B003-07", "発動対象1_名前": "國神錬介【正々堂々肉体勝負】", "発動対象2_ID": "B013-06", "発動対象2_名前": "馬狼照英【貪り喰らう咆哮】", "発動対象3_ID": "SP-UR008", "発動対象3_名前": "こいつらに支配されてる", "効果1": "常時フィジカルアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "B003-07", "発動対象1_名前": "國神錬介【正々堂々肉体勝負】", "発動対象2_ID": "B013-06", "発動対象2_名前": "馬狼照英【貪り喰らう咆哮】", "発動対象3_ID": "B901-05", "発動対象3_名前": "三笘薫【受け止めた勝利】", "効果1": "常時フィジカルアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "B013-06", "発動対象1_名前": "馬狼照英【貪り喰らう咆哮】", "発動対象2_ID": "B036-02", "発動対象2_名前": "オリヴァ・愛空【オールMAXで視える世界】", "発動対象3_ID": "B901-05", "発動対象3_名前": "三笘薫【受け止めた勝利】", "効果1": "常時フィジカルアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "B004-09", "発動対象1_名前": "千切豹馬【ブリリアント・ブーケ】", "発動対象2_ID": "B013-06", "発動対象2_名前": "馬狼照英【貪り喰らう咆哮】", "発動対象3_ID": "B036-02", "発動対象3_名前": "オリヴァ・愛空【オールMAXで視える世界】", "効果1": "常時フィジカルアップ", "効果量1": "1800%" },
{ "発動対象1_ID": "SP-UR006", "発動対象1_名前": "夜空の理想潔＆蜂楽", "発動対象2_ID": "SP-UR016", "発動対象2_名前": "悪夢へ誘う魔王", "効果1": "常時賢さアップ", "効果量1": "2000%" },
{ "発動対象1_ID": "SP-UR004", "発動対象1_名前": "脳天カチ割るぞ", "発動対象2_ID": "SP-UR016", "発動対象2_名前": "悪夢へ誘う魔王", "効果1": "常時賢さアップ", "効果量1": "2000%" },
{ "発動対象1_ID": "SP-UR010", "発動対象1_名前": "世界に届く！", "発動対象2_ID": "SP-UR016", "発動対象2_名前": "悪夢へ誘う魔王", "効果1": "常時テクニックアップ", "効果量1": "2000%" },
{ "発動対象1_ID": "SP-UR010", "発動対象1_名前": "世界に届く！", "発動対象2_ID": "SP-UR015", "発動対象2_名前": "小悪魔の茶会", "効果1": "常時キックアップ", "効果量1": "2000%" },
{ "発動対象1_ID": "SP-UR008", "発動対象1_名前": "こいつらに支配されてる", "発動対象2_ID": "SP-UR015", "発動対象2_名前": "小悪魔の茶会", "効果1": "常時キックアップ", "効果量1": "2000%" },
{ "発動対象1_ID": "B018-08", "発動対象1_名前": "凪誠士郎【はじめまして日本】", "発動対象2_ID": "SP-UR010", "発動対象2_名前": "世界に届く！", "発動対象3_ID": "SP-UR015", "発動対象3_名前": "小悪魔の茶会", "効果1": "常時キックアップ", "効果量1": "3000%" },
{ "発動対象1_ID": "B013-06", "発動対象1_名前": "馬狼照英【貪り喰らう咆哮】", "発動対象2_ID": "SP-UR008", "発動対象2_名前": "こいつらに支配されてる", "発動対象3_ID": "SP-UR015", "発動対象3_名前": "小悪魔の茶会", "効果1": "常時キックアップ", "効果量1": "3000%" },
{ "発動対象1_ID": "SP-UR011", "発動対象1_名前": "熱血！肉弾！応援団！", "発動対象2_ID": "SP-UR015", "発動対象2_名前": "小悪魔の茶会", "効果1": "常時スピードアップ", "効果量1": "3000%" },
{ "発動対象1_ID": "B038-02", "発動対象1_名前": "糸師冴【SEASIDE EGOIST】", "発動対象2_ID": "SP-UR011", "発動対象2_名前": "熱血！肉弾！応援団！", "発動対象3_ID": "SP-UR015", "発動対象3_名前": "小悪魔の茶会", "効果1": "常時スピードアップ", "効果量1": "3000%" },
{ "発動対象1_ID": "B038-02", "発動対象1_名前": "糸師冴【SEASIDE EGOIST】", "発動対象2_ID": "SP-UR007", "発動対象2_名前": "兄弟喧嘩の途中だ！", "発動対象3_ID": "SP-UR015", "発動対象3_名前": "小悪魔の茶会", "効果1": "常時スピードアップ", "効果量1": "3000%" },
{ "発動対象1_ID": "B004-08", "発動対象1_名前": "千切豹馬【最速の韋駄天】", "発動対象2_ID": "B021-06", "発動対象2_名前": "糸師凛【破壊者】", "発動対象3_ID": "SP-UR015", "発動対象3_名前": "小悪魔の茶会", "効果1": "常時スピードアップ", "効果量1": "3000%" },
{ "発動対象1_ID": "B020-03", "発動対象1_名前": "剣城斬鉄【俺の”領域”】", "発動対象2_ID": "B037-02", "発動対象2_名前": "閃堂秋人", "発動対象3_ID": "SP-UR015", "発動対象3_名前": "小悪魔の茶会", "効果1": "常時スピードアップ", "効果量1": "3000%" },
{ "発動対象1_ID": "B021-07", "発動対象1_名前": "糸師凛【SEASIDE EGOIST】", "発動対象2_ID": "B030-03", "発動対象2_名前": "烏旅人【無欠への一手】", "効果1": "常時テクニックアップ", "効果量1": "2000%" },
{ "発動対象1_ID": "B038-01", "発動対象1_名前": "糸師冴【『美しく壊す』哲学】", "発動対象2_ID": "B030-03", "発動対象2_名前": "烏旅人【無欠への一手】", "効果1": "常時テクニックアップ", "効果量1": "2000%" },
{ "発動対象1_ID": "B002-08", "発動対象1_名前": "蜂楽廻【怪物夢中】", "発動対象2_ID": "B019-08", "発動対象2_名前": "御影玲王【X SEASIDE EGOIST】", "発動対象3_ID": "B030-03", "発動対象3_名前": "烏旅人【無欠への一手】", "効果1": "常時テクニックアップ", "効果量1": "3000%" },
{ "発動対象1_ID": "B004-08", "発動対象1_名前": "千切豹馬【最速の韋駄天】", "発動対象2_ID": "B030-03", "発動対象2_名前": "烏旅人【無欠への一手】", "効果1": "常時スピードアップ", "効果量1": "2000%" },
{ "発動対象1_ID": "B021-06", "発動対象1_名前": "糸師凛【破壊者】", "発動対象2_ID": "B030-03", "発動対象2_名前": "烏旅人【無欠への一手】", "効果1": "常時スピードアップ", "効果量1": "2000%" },
{ "発動対象1_ID": "B004-08", "発動対象1_名前": "千切豹馬【最速の韋駄天】", "発動対象2_ID": "B038-02", "発動対象2_名前": "糸師冴【SEASIDE EGOIST】", "発動対象3_ID": "B030-03", "発動対象3_名前": "烏旅人【無欠への一手】", "効果1": "常時スピードアップ", "効果量1": "3000%" },
{ "発動対象1_ID": "B021-06", "発動対象1_名前": "糸師凛【破壊者】", "発動対象2_ID": "B038-02", "発動対象2_名前": "糸師冴【SEASIDE EGOIST】", "発動対象3_ID": "B030-03", "発動対象3_名前": "烏旅人【無欠への一手】", "効果1": "常時スピードアップ", "効果量1": "3000%" },
{ "発動対象1_ID": "B004-08", "発動対象1_名前": "千切豹馬【最速の韋駄天】", "発動対象2_ID": "B030-03", "発動対象2_名前": "烏旅人【無欠への一手】", "発動対象3_ID": "SP-UR015", "発動対象3_名前": "小悪魔の茶会", "効果1": "常時スピードアップ", "効果量1": "3000%" },
{ "発動対象1_ID": "B020-03", "発動対象1_名前": "剣城斬鉄【俺の”領域”】", "発動対象2_ID": "B030-03", "発動対象2_名前": "烏旅人【無欠への一手】", "発動対象3_ID": "SP-UR007", "発動対象3_名前": "兄弟喧嘩の途中だ！", "効果1": "常時スピードアップ", "効果量1": "3000%" },
{ "発動対象1_ID": "SP-UR015", "発動対象1_名前": "小悪魔の茶会", "発動対象2_ID": "SP-UR017", "発動対象2_名前": "怪物への変身", "効果1": "常時スピードアップ", "効果量1": "2000%" },
{ "発動対象1_ID": "SP-UR009", "発動対象1_名前": "CROSS OVER", "発動対象2_ID": "SP-UR017", "発動対象2_名前": "怪物への変身", "効果1": "常時スピードアップ", "効果量1": "2000%" },
{ "発動対象1_ID": "SP-UR011", "発動対象1_名前": "熱血！肉弾！応援団！", "発動対象2_ID": "SP-UR015", "発動対象2_名前": "小悪魔の茶会", "発動対象3_ID": "SP-UR017", "発動対象3_名前": "怪物への変身", "効果1": "常時スピードアップ", "効果量1": "3000%" },
{ "発動対象1_ID": "SP-UR009", "発動対象1_名前": "CROSS OVER", "発動対象2_ID": "SP-UR011", "発動対象2_名前": "熱血！肉弾！応援団！", "発動対象3_ID": "SP-UR017", "発動対象3_名前": "怪物への変身", "効果1": "常時スピードアップ", "効果量1": "3000%" },
{ "発動対象1_ID": "B004-08", "発動対象1_名前": "千切豹馬【最速の韋駄天】", "発動対象2_ID": "SP-UR011", "発動対象2_名前": "熱血！肉弾！応援団！", "発動対象3_ID": "SP-UR017", "発動対象3_名前": "怪物への変身", "効果1": "常時スピードアップ", "効果量1": "3000%" },
{ "発動対象1_ID": "SP-UR016", "発動対象1_名前": "悪夢へ誘う魔王", "発動対象2_ID": "SP-UR017", "発動対象2_名前": "怪物への変身", "効果1": "常時スピードアップ", "効果量1": "2000%" },
{ "発動対象1_ID": "SP-UR006", "発動対象1_名前": "夜空の理想潔＆蜂楽", "発動対象2_ID": "SP-UR016", "発動対象2_名前": "悪夢へ誘う魔王", "発動対象3_ID": "SP-UR017", "発動対象3_名前": "怪物への変身", "効果1": "常時賢さアップ", "効果量1": "3000%" },
{ "発動対象1_ID": "B003-07", "発動対象1_名前": "國神錬介【正々堂々肉体勝負】", "発動対象2_ID": "SP-UR006", "発動対象2_名前": "夜空の理想潔＆蜂楽", "発動対象3_ID": "SP-UR017", "発動対象3_名前": "怪物への変身", "効果1": "常時賢さアップ", "効果量1": "3000%" },
{ "発動対象1_ID": "B001-09", "発動対象1_名前": "潔世一【”青い監獄”の心臓】", "発動対象2_ID": "B032-04", "発動対象2_名前": "氷織羊【X 自分にできる武器】", "効果1": "常時賢さアップ", "効果量1": "2000%" },
{ "発動対象1_ID": "B019-08", "発動対象1_名前": "御影玲王【X SEASIDE EGOIST】", "発動対象2_ID": "B032-04", "発動対象2_名前": "氷織羊【X 自分にできる武器】", "効果1": "常時賢さアップ", "効果量1": "2000%" },
{ "発動対象1_ID": "B001-09", "発動対象1_名前": "潔世一【”青い監獄”の心臓】", "発動対象2_ID": "B004-09", "発動対象2_名前": "千切豹馬【ブリリアント・ブーケ】", "発動対象3_ID": "B032-04", "発動対象3_名前": "氷織羊【X 自分にできる武器】", "効果1": "常時賢さアップ", "効果量1": "3000%" },
{ "発動対象1_ID": "B038-01", "発動対象1_名前": "糸師冴【『美しく壊す』哲学】", "発動対象2_ID": "B032-04", "発動対象2_名前": "氷織羊【X 自分にできる武器】", "効果1": "常時テクニックアップ", "効果量1": "2000%" },
{ "発動対象1_ID": "B030-03", "発動対象1_名前": "烏旅人【無欠への一手】", "発動対象2_ID": "B032-04", "発動対象2_名前": "氷織羊【X 自分にできる武器】", "効果1": "常時テクニックアップ", "効果量1": "2000%" },
{ "発動対象1_ID": "B002-08", "発動対象1_名前": "蜂楽廻【怪物夢中】", "発動対象2_ID": "B038-01", "発動対象2_名前": "糸師冴【『美しく壊す』哲学】", "発動対象3_ID": "B032-04", "発動対象3_名前": "氷織羊【X 自分にできる武器】", "効果1": "常時テクニックアップ", "効果量1": "3000%" },
];

/* ================= ヘルパ ================= */
const toStr = (v) => (v == null ? "" : String(v)).trim();

// ID判定（キャラ/サポ/EX）
const isCharId = (s) => /^B\d{3}(?:-\d{2})?$/i.test(s);
const isSupportId = (s) => /^SP-(?:UR|SSR)\d{3}$/i.test(s);
const isExSupportId = (s) => /^SP-EX\d{3}$/i.test(s);
const isAnyId = (s) => isCharId(s) || isSupportId(s) || isExSupportId(s);

// “明らかにIDでない語”を弾く（必要なら追加してください）
const BAD_TARGET_TOKENS = new Set([
  "インスピレーション獲得",
  "トレーニング開始時",
  "AWAKENING発生",
  "ターン延長",
  "全ステータス上昇量",
  "賢さ上昇量",
  "スピード上昇量",
  "キック上昇量",
  "フィジカル上昇量",
  "スタミナ上昇量",
  "テクニック上昇量",
]);

// 名前 → ID の辞書（キャラ名はバリエーション名ごと）
const charNameToId = (() => {
  const map = new Map();
  for (const c of characterList || []) {
    const name = toStr(c?.name || c?.title || "");
    if (!name) continue;
    // 同名が複数ある可能性は低いので、後勝ちでOK（必要なら配列に）
    map.set(name, toStr(c.id));
  }
  return map;
})();

const supportNameToId = (() => {
  const map = new Map();
  for (const s of supportCards || []) {
    const name = toStr(s?.name);
    if (!name) continue;
    map.set(name, toStr(s.id));
  }
  return map;
})();

/** 入力値（ID / 名前 / ノイズ）のいずれかを ID に正規化。できなければ "" を返す */
function resolveTargetToken(raw) {
  const v = toStr(raw);
  if (!v) return "";
  if (isAnyId(v)) return v;                 // すでにID
  if (BAD_TARGET_TOKENS.has(v)) return "";  // 効果説明などは除外

  // 名前からの解決（サポ → キャラの順）
  if (supportNameToId.has(v)) return supportNameToId.get(v);
  if (charNameToId.has(v)) return charNameToId.get(v);

  // ここまで来たら不明（除外）
  return "";
}

/** 発動対象（ID）の動的収集：「発動対象<number>_ID」「発動対象<number>_名前」も保険で見る */
function collectTargets(row) {
  // まず *_ID 欄を拾う
  const idPairs = Object.keys(row)
    .map((k) => {
      const m = k.match(/^発動対象(\d+)_ID$/);
      if (!m) return null;
      return { idx: Number(m[1]), raw: toStr(row[k]) };
    })
    .filter(Boolean);

  // 一部のデータでは *_名前 欄に ID/名前が入っていることがあるので保険で見る
  const namePairs = Object.keys(row)
    .map((k) => {
      const m = k.match(/^発動対象(\d+)_名前$/);
      if (!m) return null;
      return { idx: Number(m[1]), raw: toStr(row[k]) };
    })
    .filter(Boolean);

  // index ごとにマージ（ID欄優先、空なら名前欄）
  const byIndex = new Map();
  for (const p of idPairs) byIndex.set(p.idx, p.raw);
  for (const p of namePairs) {
    if (!byIndex.has(p.idx) || !toStr(byIndex.get(p.idx))) byIndex.set(p.idx, p.raw);
  }

  // 1..N 昇順に正規化 → ID だけを targets に採用
  const idxs = Array.from(byIndex.keys()).sort((a, b) => a - b);
  const targets = [];
  for (const i of idxs) {
    const resolved = resolveTargetToken(byIndex.get(i));
    if (resolved) targets.push(resolved);
  }
  return targets;
}

/** 効果の動的収集：「効果i / 効果内容i / 効果量i」を番号順にまとめる */
function collectEffects(row) {
  const MAX = 80; // 余裕を見て多め
  const out = [];
  for (let i = 1; i <= MAX; i++) {
    const effect = toStr(row[`効果${i}`]);
    const detail = toStr(row[`効果内容${i}`]);
    const value  = toStr(row[`効果量${i}`]);
    if (!effect && !detail && !value) continue; // 3つとも空ならスキップ
    out.push({ effect, detail, value });
  }
  return out;
}

/** 1行を最終形に正規化 */
function normalizeRow(row, index) {
  const targets = collectTargets(row);
  const effects = collectEffects(row);

  // targets が 0 の行は実用上ノイズなので弾く（必要なら残してOK）
  if (targets.length === 0) {
    return null;
  }

  // UI の key 安定化
  const key =
    `${targets.join("|")}__` +
    effects.map((e) => `${e.effect}:${e.detail}:${e.value}`).join("|") +
    `__${index}`;

  return { key, targets, effects, __raw: row };
}

/* ============== 出力 ============== */
export const trainingSkills = SOURCE_ROWS
  .map(normalizeRow)
  .filter(Boolean); // null を除去

export default trainingSkills;